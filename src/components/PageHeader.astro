---
import { Image } from 'astro:assets';

interface Props {
  isHome?: boolean | undefined;
  title: string;
  description?: string | undefined;
}

const isHome = Astro.props.isHome === true;
const { title, description } = Astro.props;
---

<header class:list={['mb-28', isHome ? 'pt-20' : 'mt-28']}>
  {
    Astro.slots.has('meta') && (
      <p class="mb-1.5 text-xs text-dynamic-muted">
        <slot name="meta" />
      </p>
    )
  }

  <h1
    class:list={[
      'text-2xl/japanese-tight font-bold text-pretty [word-break:auto-phrase] kerning-all',
      isHome && 'flex items-center gap-[1ch] py-[calc((1lh-1cap)/2)]',
    ]}
  >
    {
      isHome && (
        <Image
          class="size-[1.75cap] rounded-full ring-1 ring-dynamic"
          src={import('../assets/favicon.svg')}
          alt=""
        />
      )
    }
    <Fragment set:html={title} />
  </h1>

  {
    description && (
      <p class="mt-3 text-dynamic-muted [hanging-punctuation:allow-end]">{description}</p>
    )
  }
</header>
