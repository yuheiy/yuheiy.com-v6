---
interface Props {
  title: string;
  lang?: string;
}

const { title, lang = 'ja' } = Astro.props;

const content = await Astro.slots.render('default');

const srcdoc = `<!DOCTYPE html>
<html lang="${lang}">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>${title}</title>
    <style>
      @layer {
        :root { color-scheme: light dark; font-family: sans-serif; }
        body { margin: 0; }
      }
    </style>
    <script>
      new ResizeObserver((entries) => {
        window.frameElement.height = entries[0].contentBoxSize[0].blockSize;
      }).observe(document.documentElement);
    </script>
  </head>
  <body>
    ${content}
  </body>
</html>`;
---

<iframe class="w-full" srcdoc={srcdoc} title={title}></iframe>
