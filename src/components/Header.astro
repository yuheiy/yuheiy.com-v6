---
import faviconImage from '../assets/favicon.svg';
import { SITE_TITLE } from '../consts';

interface Props {
  title: string;
  isHome?: boolean | undefined;
}

const { title, isHome } = Astro.props;

const Components = isHome
  ? ({
      Root: 'header',
      Nav: Fragment,
      Header: 'div',
    } as const)
  : ({
      Root: Fragment,
      Nav: 'nav',
      Header: 'header',
    } as const);
---

<Components.Root>
  <Components.Nav>
    <p class="wrapper pt-16 text-sm text-dynamic-muted kerning-normal">
      {/* eslint-disable-next-line astro/jsx-a11y/anchor-is-valid */}
      <a class="flex w-fit items-center gap-x-3" href={isHome ? null : '/'}>
        <img
          class="w-7 rounded-full ring-1 ring-dynamic"
          src={faviconImage.src}
          width={faviconImage.width}
          height={faviconImage.height}
          alt=""
        />
        {SITE_TITLE}
      </a>
    </p>
  </Components.Nav>

  <Components.Header class="wrapper mt-8 space-y-8">
    <h1
      class="text-2xl font-bold leading-tight kerning-all [text-wrap:pretty] [word-break:auto-phrase]"
      set:html={title}
    />
    <slot />
  </Components.Header>
</Components.Root>
