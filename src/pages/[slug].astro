---
export async function getStaticPaths({ rss }) {
	const allPosts = await Astro.glob<{ title: string; published: string }>("./*.md");
	const sortedPosts = allPosts.sort(
		(a, b) => Date.parse(b.frontmatter.published) - Date.parse(a.frontmatter.published)
	);

	rss({
		title: "記事: Yuhei Yasuda",
		description: "日記や技術情報など",
		items: sortedPosts.map((item) => ({
			title: item.frontmatter.title,
			link: item.url,
			pubDate: item.frontmatter.published,
		})),
		dest: "/posts-feed.xml",
	});

	return [];
}
---
