---
title: 'Space Toggleãƒãƒƒã‚¯ã‚’ä½¿ã£ã¦color-schemeã«å¿œã˜ãŸå€¤ã®åˆ‡ã‚Šæ›¿ãˆã‚’å®Ÿç¾ã™ã‚‹'
pubDate: 2026-02-21T20:30:00.000+09:00
---

ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã¨ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«å¯¾å¿œã—ãŸCSSã‚’ä½œæˆã™ã‚‹ã¨ãã€æœ€åˆã«è€ƒãˆã‚‰ã‚Œã‚‹ã®ã¯`prefers-color-scheme`ã‚’ä½¿ã£ã¦å®£è¨€ã‚’ä¸Šæ›¸ãã™ã‚‹æ–¹æ³•ã ã‚ã†ã€‚

```css
:root {
  color-scheme: light dark;
}

button {
  background-color: black;
  color: white;

  @media (prefers-color-scheme: dark) {
    background-color: white;
    color: black;
  }
}
```

ã—ã‹ã—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã ã‘ã‚’åˆ‡ã‚Šæ›¿ãˆãŸã„ã®ã§ã‚ã‚Œã°ã€å®£è¨€ã‚’é‡è¤‡ã—ã¦è¨˜è¿°ã™ã‚‹ã®ã¯å†—é•·ã ã€‚ã“ã®ã‚ˆã†ãªå ´åˆã¯`light-dark()`ã‚’ä½¿ã†ã¨ç°¡æ½”ã«ãªã‚‹ã€‚

```css
button {
  background-color: light-dark(black, white);
  color: light-dark(white, black);
}
```

ã“ã‚Œã«ã‚ˆã£ã¦ã€å€¤ã‚’å¤‰æ•°åŒ–ã—ã¦ä½¿ã„å›ã™ã“ã¨ã‚‚ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

```css
:root {
  --fg-color-inverted: light-dark(white, black);
  --bg-color-inverted: light-dark(black, white);
}

button {
  background-color: var(--bg-color-inverted);
  color: var(--fg-color-inverted);
}
```

ãŸã ã—ã€`light-dark()`ã§åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã®ã¯è‰²ã ã‘ã ã€‚ãŸã¨ãˆã°`font-weight`ã®å€¤ã‚’åˆ‡ã‚Šæ›¿ãˆãŸã„ã¨ã—ã¦ã‚‚å¯¾å¿œã—ã¦ã„ãªã„ã€‚ãã“ã§æœ€è¿‘ã€[æ–°ãŸãªCSSä»•æ§˜ã¨ã—ã¦`color-scheme()`ãŒè¿½åŠ ã•ã‚ŒãŸ](https://www.bram.us/2025/09/30/css-custom-light-dark/)ã€‚æ¬¡ã®ã‚ˆã†ã«`if()`ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã€‚

```css
#element {
  font-weight: if(color-scheme(dark): 500; else: 300);
}
```

ã¨ã¯ã„ãˆã€`color-scheme()`ã¯ã¾ã å®Ÿè£…ãŒå­˜åœ¨ã›ãšã€`if()`ã¯å®Ÿè£…çŠ¶æ³ãŒååˆ†ã§ã¯ãªã„ã€‚

ä»£æ›¿æ¡ˆã¨ã—ã¦ã€ç¾çŠ¶ã§ã¯Space Toggleãƒãƒƒã‚¯ã‚’ä½¿ã†ã¨åŒæ§˜ã®ã“ã¨ãŒå®Ÿç¾ã§ãã‚‹ã€‚Space Toggleãƒãƒƒã‚¯ã¨ã¯ã€`--foo: ;`ã®ã‚ˆã†ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã¨ã—ã¦ç©ºç™½æ–‡å­—ãŒæœ‰åŠ¹ã§ã‚ã‚‹ã¨ã„ã†ä»•æ§˜ã‚’ç”¨ã„ã¦ã€æ¡ä»¶ã«å¿œã˜ãŸå€¤ã®åˆ‡ã‚Šæ›¿ãˆã‚’ã™ã‚‹æ‰‹æ³•ã ã€‚ãŸã¨ãˆã°æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã€‚

```css
--toggler: ;
--red-if-toggler: var(--toggler) red;
background: var(--red-if-toggler, green); /* will be red! */
```

```css
--toggler: initial;
--red-if-toggler: var(--toggler) red;
background: var(--red-if-toggler, green); /* will be green! */
```

`--toggler`ã‚’`--red-if-toggler`ã«å«ã‚ã‚‹ã“ã¨ã§ã€`--toggler: ;`ã®å ´åˆã¯`red`ãŒç©ºç™½æ–‡å­—ã¨ã¨ã‚‚ã«å‡ºåŠ›ã•ã‚Œã€`initial`ã®å ´åˆã¯ç„¡åŠ¹ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ã—ã¦è©•ä¾¡ã•ã‚Œã¦ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ãŒå„ªå…ˆã•ã‚Œã‚‹ä»•çµ„ã¿ã«ãªã£ã¦ã„ã‚‹ï¼ˆã‚³ãƒ¼ãƒ‰ä¾‹ã¯[propjockey/css-sweeper](https://github.com/propjockey/css-sweeper?tab=readme-ov-file#basics-of-space-toggle)ã‚ˆã‚Šï¼‰ã€‚å€¤ã®å‰å¾Œã«ç©ºç™½æ–‡å­—ãŒã‚ã£ã¦ã‚‚å®Ÿéš›ã®å‹•ä½œã«ã¯å½±éŸ¿ã›ãšç„¡è¦–ã•ã‚Œã‚‹ã¨ã„ã†CSSã®ä»•æ§˜ã«ã‚ˆã£ã¦æˆã‚Šç«‹ã¤ã‚‚ã®ã ã€‚

ã“ã‚Œã‚’å¿œç”¨ã—ã¦ã€æ¬¡ã®ã‚ˆã†ã«`prefers-color-scheme`ã«ã‚ˆã£ã¦`--toggler`ã«ç›¸å½“ã™ã‚‹å€¤ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã€`light-dark()`ã¨åŒæ§˜ã®ä»•çµ„ã¿ã‚’å®Ÿç¾ã§ãã‚‹ã€‚

```css
:root {
  color-scheme: light dark;
  --light: initial;
  --dark: ;

  @media (prefers-color-scheme: dark) {
    --light: ;
    --dark: initial;
  }
}

#element {
  background-color: var(--color-bg-inverted);
  color: light-dark(white, black);
  font-weight: var(--light, 500) var(--dark, 300);
}
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯`--light`ãŒç„¡åŠ¹ãªã®ã§`500`ãŒæ¡ç”¨ã•ã‚Œã€`--dark`ã¯æœ‰åŠ¹ãªã®ã§å˜ãªã‚‹ç©ºç™½æ–‡å­—ã«ãªã‚‹ã€‚`color-scheme: light dark`ã‚‚ä½µç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®UIã®ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ ã‚’å¤‰æ›´ã—ãŸã‚Š`light-dark()`ã‚’æ©Ÿèƒ½ã•ã›ãŸã‚Šã§ãã‚‹ã€‚

ãã—ã¦ã€`prefers-color-scheme`ã‚’ä½¿ã‚ãšã«å€¤ã‚’å›ºå®šã™ã‚‹ã“ã¨ã§ã€å¸¸ã«ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚‚ã—ãã¯ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«ç›¸å½“ã™ã‚‹çŠ¶æ…‹ã‚‚è¡¨ç¾ã§ãã‚‹ã€‚ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹ã«ã™ã‚‹ãªã‚‰æ¬¡ã®é€šã‚Šã€‚

```css
.scheme-light {
  color-scheme: light;
  --light: initial;
  --dark: ;
}

.scheme-dark {
  color-scheme: dark;
  --light: ;
  --dark: initial;
}

.scheme-light-dark {
  color-scheme: light dark;
  --light: initial;
  --dark: ;

  @media (prefers-color-scheme: dark) {
    --light: ;
    --dark: initial;
  }
}
```

```html
<html class="scheme-light-dark">
  <!-- ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ã‚ã‚‹ -->

  <div class="scheme-light">
    <!-- å¸¸ã«ãƒ©ã‚¤ãƒˆã‚¹ã‚­ãƒ¼ãƒ  -->
  </div>

  <div class="scheme-dark">
    <!-- å¸¸ã«ãƒ€ãƒ¼ã‚¯ã‚¹ã‚­ãƒ¼ãƒ  -->
  </div>
</html>
```

ã“ã‚Œã‚‰ã®å®Ÿè£…ã¯[React Spectrumã‹ã‚‰ç€æƒ³ã‚’å¾—ãŸ](https://github.com/adobe/react-spectrum/blob/%40react-spectrum/s2%401.1.0/packages/%40react-spectrum/s2/src/page.macro.ts)ã€‚

---

ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ ä»¥å¤–ã®ãƒ†ãƒ¼ãƒã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ä½¿ã„æ–¹ã‚‚ã§ãã‚‹ã€‚ãŸã¨ãˆã°ã€è¨­å®šã«å¿œã˜ã¦ä½™ç™½ã®å¤§ãã•ãŒå¤‰åŒ–ã™ã‚‹è¨­è¨ˆã‚’è€ƒãˆã‚‹ã€‚

| Name | Base | Compact | Comfortable |
| ---- | ---: | ------: | ----------: |
| 050  |    2 |       1 |           4 |
| 100  |    4 |       2 |           8 |
| 150  |    6 |       4 |          10 |

`data-*`å±æ€§ã‚’ä½¿ã£ã¦åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ã™ã‚Œã°ã€æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã§ãã‚‹ã€‚

```css
:root {
  --is-size-base: initial;
  --is-size-compact: ;
  --is-size-comfortable: ;

  &[data-size='compact'] {
    --is-size-base: ;
    --is-size-compact: initial;
    --is-size-comfortable: ;
  }

  &[data-size='comfortable'] {
    --is-size-base: ;
    --is-size-compact: ;
    --is-size-comfortable: initial;
  }
}

:root {
  --space-050: var(--is-size-base, 2px) var(--is-size-compact, 1px) var(--is-size-comfortable, 4px);
  --space-100: var(--is-size-base, 4px) var(--is-size-compact, 2px) var(--is-size-comfortable, 8px);
  --space-150: var(--is-size-base, 6px) var(--is-size-compact, 4px) var(--is-size-comfortable, 10px);
}
```

```html
<html data-size="comfortable">
  <!-- ... -->
</div>
```

## å‚è€ƒè³‡æ–™

- [CSS @function + CSS if() = ğŸ¤¯ â€“ Bram.us](https://www.bram.us/2025/02/18/css-at-function-and-css-if/)
- [The -â€‹-var: ; hack to toggle multiple values with one custom property â€¢ Lea Verou](https://lea.verou.me/blog/2020/10/the-var-space-hack-to-toggle-multiple-values-with-one-custom-property/)
- [The CSS Custom Property Toggle Trick | CSS-Tricks](https://css-tricks.com/the-css-custom-property-toggle-trick/)
