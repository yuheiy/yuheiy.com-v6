---
legacyUrl: true
slug: 2022-08-25-sizing-based-on-multiple-overlapping-elements
title: '複数の要素を重ね合わせつつ、その中で最も大きい要素に合わせて親要素のサイズを設定するCSS'
pubDate: 2022-08-25T23:00:00.000+09:00
---

import SmartIframe from '#components/SmartIframe.astro';

複数の要素を重ね合わせるためには、従来、`position: absolute`を使うことが多かった。親要素に`position: relative`を、その子要素に`position: absolute`を設定するというもの。

<figure>

```html
<div style="position: relative;">
  <div style="position: absolute;"><!-- ... --></div>
  <div style="position: absolute;"><!-- ... --></div>
</div>
```

</figure>

しかしその場合、子要素自身のサイズに基づいて親要素のサイズを設定するということができない。CSSだけでは実現できないので、JavaScriptを使うことになる。

<figure>

```html
<div style="position: relative; height: 421px;">
  <div style="position: absolute;"><!-- ... --></div>
  <div style="position: absolute;"><!-- ... --></div>
</div>
```

</figure>

そんなとき、`position: absolute`の代わりにGridを使うと、CSSだけでこれを実現できるようになる。

<figure>

```html
<div class="wrapper">
  <div><!-- ... --></div>
  <div><!-- ... --></div>
</div>
```

</figure>

<figure>

```css
.wrapper {
  display: grid;
}

.wrapper > * {
  grid-row: 1 / -1;
  grid-column: 1 / -1;
}
```

</figure>

このようにすると、自ずと、最も大きい子要素のサイズに基づいて親要素のサイズが設定されるようになる。

これを使うと、たとえば、ボタンのラベルの長さが変わってもボタン自体の幅は変化しないようにすることができる。

<figure>
  <SmartIframe src="/blog/2022/sizing-based-on-multiple-overlapping-elements/demo/button.html" />
</figure>

あるいは、複数の画像がクロスフェードするギャラリーのようなUIを作成するときに、画像自体に基づいてサイズを設定することもできる。

<figure>
  <SmartIframe src="/blog/2022/sizing-based-on-multiple-overlapping-elements/demo/gallery.html" />
</figure>
